{"ast":null,"code":"import _toConsumableArray from\"/home/omkar/webdev/om/todoist/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/omkar/webdev/om/todoist/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{firebase}from\"../firebase\";import{generatePushId}from\"../helpers\";import{useProjectsValue}from\"../context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AddProject=function AddProject(_ref){var _ref$shouldShow=_ref.shouldShow,shouldShow=_ref$shouldShow===void 0?false:_ref$shouldShow;var _useState=useState(shouldShow),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),projectName=_useState4[0],setProjectName=_useState4[1];var projectId=generatePushId();var _useProjectsValue=useProjectsValue(),projects=_useProjectsValue.projects,setProjects=_useProjectsValue.setProjects;var addProject=function addProject(){return projectName&&firebase.firestore().collection(\"projects\").add({projectId:projectId,name:projectName,userId:\"jlIFXIwyAL3tzHMtzRbw\"}).then(function(){setProjects(_toConsumableArray(projects));setProjectName(\"\");setShow(false);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"add-project\",\"data-testid\":\"add-project\",children:[show&&/*#__PURE__*/_jsxs(\"div\",{className:\"add-project__input\",\"data-testid\":\"add-project-inner\",children:[/*#__PURE__*/_jsx(\"input\",{value:projectName,onChange:function onChange(e){return setProjectName(e.target.value);},className:\"add-project__name\",\"data-testid\":\"project-name\",type:\"text\",placeholder:\"Name your project\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-project__submit\",type:\"button\",onClick:function onClick(){return addProject();},\"data-testid\":\"add-project-submit\",children:\"Add Project\"}),/*#__PURE__*/_jsx(\"span\",{\"aria-label\":\"Cancel adding project\",\"data-testid\":\"hide-project-overlay\",className:\"add-project__cancel\",onClick:function onClick(){return setShow(false);},onKeyDown:function onKeyDown(e){if(e.key===\"Enter\")setShow(false);},role:\"button\",tabIndex:0,children:\"Cancel\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"add-project__plus\",children:\"+\"}),/*#__PURE__*/_jsx(\"span\",{\"aria-label\":\"Add Project\",\"data-testid\":\"add-project-action\",className:\"add-project__text\",onClick:function onClick(){return setShow(!show);},onKeyDown:function onKeyDown(e){if(e.key===\"Enter\")setShow(!show);},role:\"button\",tabIndex:0,children:\"Add Project\"})]});};","map":{"version":3,"sources":["/home/omkar/webdev/om/todoist/src/components/AddProject.js"],"names":["React","useState","firebase","generatePushId","useProjectsValue","AddProject","shouldShow","show","setShow","projectName","setProjectName","projectId","projects","setProjects","addProject","firestore","collection","add","name","userId","then","e","target","value","key"],"mappings":"wOAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,OAASC,cAAT,KAA+B,YAA/B,CACA,OAASC,gBAAT,KAAiC,YAAjC,C,wFAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAA4B,0BAAzBC,UAAyB,CAAzBA,UAAyB,0BAAZ,KAAY,+BAC5BL,QAAQ,CAACK,UAAD,CADoB,wCAC7CC,IAD6C,eACvCC,OADuC,8BAEdP,QAAQ,CAAC,EAAD,CAFM,yCAE7CQ,WAF6C,eAEhCC,cAFgC,eAIpD,GAAMC,CAAAA,SAAS,CAAGR,cAAc,EAAhC,CAJoD,sBAKlBC,gBAAgB,EALE,CAK5CQ,QAL4C,mBAK5CA,QAL4C,CAKlCC,WALkC,mBAKlCA,WALkC,CAOpD,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SACjBL,CAAAA,WAAW,EACXP,QAAQ,CACLa,SADH,GAEGC,UAFH,CAEc,UAFd,EAGGC,GAHH,CAGO,CACHN,SAAS,CAATA,SADG,CAEHO,IAAI,CAAET,WAFH,CAGHU,MAAM,CAAE,sBAHL,CAHP,EAQGC,IARH,CAQQ,UAAM,CACVP,WAAW,oBAAKD,QAAL,EAAX,CACAF,cAAc,CAAC,EAAD,CAAd,CACAF,OAAO,CAAC,KAAD,CAAP,CACD,CAZH,CAFiB,EAAnB,CAgBA,mBACE,aAAK,SAAS,CAAC,aAAf,CAA6B,cAAY,aAAzC,WACGD,IAAI,eACH,aAAK,SAAS,CAAC,oBAAf,CAAoC,cAAY,mBAAhD,wBACE,cACE,KAAK,CAAEE,WADT,CAEE,QAAQ,CAAE,kBAACY,CAAD,QAAOX,CAAAA,cAAc,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAArB,EAFZ,CAGE,SAAS,CAAC,mBAHZ,CAIE,cAAY,cAJd,CAKE,IAAI,CAAC,MALP,CAME,WAAW,CAAC,mBANd,EADF,cASE,eACE,SAAS,CAAC,qBADZ,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAE,yBAAMT,CAAAA,UAAU,EAAhB,EAHX,CAIE,cAAY,oBAJd,yBATF,cAiBE,aACE,aAAW,uBADb,CAEE,cAAY,sBAFd,CAGE,SAAS,CAAC,qBAHZ,CAIE,OAAO,CAAE,yBAAMN,CAAAA,OAAO,CAAC,KAAD,CAAb,EAJX,CAKE,SAAS,CAAE,mBAACa,CAAD,CAAO,CAChB,GAAIA,CAAC,CAACG,GAAF,GAAU,OAAd,CAAuBhB,OAAO,CAAC,KAAD,CAAP,CACxB,CAPH,CAQE,IAAI,CAAC,QARP,CASE,QAAQ,CAAE,CATZ,oBAjBF,GAFJ,cAkCE,aAAM,SAAS,CAAC,mBAAhB,eAlCF,cAmCE,aACE,aAAW,aADb,CAEE,cAAY,oBAFd,CAGE,SAAS,CAAC,mBAHZ,CAIE,OAAO,CAAE,yBAAMA,CAAAA,OAAO,CAAC,CAACD,IAAF,CAAb,EAJX,CAKE,SAAS,CAAE,mBAACc,CAAD,CAAO,CAChB,GAAIA,CAAC,CAACG,GAAF,GAAU,OAAd,CAAuBhB,OAAO,CAAC,CAACD,IAAF,CAAP,CACxB,CAPH,CAQE,IAAI,CAAC,QARP,CASE,QAAQ,CAAE,CATZ,yBAnCF,GADF,CAmDD,CA1EM","sourcesContent":["import React, { useState } from \"react\";\nimport { firebase } from \"../firebase\";\nimport { generatePushId } from \"../helpers\";\nimport { useProjectsValue } from \"../context\";\n\nexport const AddProject = ({ shouldShow = false }) => {\n  const [show, setShow] = useState(shouldShow);\n  const [projectName, setProjectName] = useState(\"\");\n\n  const projectId = generatePushId();\n  const { projects, setProjects } = useProjectsValue();\n\n  const addProject = () =>\n    projectName &&\n    firebase\n      .firestore()\n      .collection(\"projects\")\n      .add({\n        projectId,\n        name: projectName,\n        userId: \"jlIFXIwyAL3tzHMtzRbw\",\n      })\n      .then(() => {\n        setProjects([...projects]);\n        setProjectName(\"\");\n        setShow(false);\n      });\n\n  return (\n    <div className=\"add-project\" data-testid=\"add-project\">\n      {show && (\n        <div className=\"add-project__input\" data-testid=\"add-project-inner\">\n          <input\n            value={projectName}\n            onChange={(e) => setProjectName(e.target.value)}\n            className=\"add-project__name\"\n            data-testid=\"project-name\"\n            type=\"text\"\n            placeholder=\"Name your project\"\n          />\n          <button\n            className=\"add-project__submit\"\n            type=\"button\"\n            onClick={() => addProject()}\n            data-testid=\"add-project-submit\"\n          >\n            Add Project\n          </button>\n          <span\n            aria-label=\"Cancel adding project\"\n            data-testid=\"hide-project-overlay\"\n            className=\"add-project__cancel\"\n            onClick={() => setShow(false)}\n            onKeyDown={(e) => {\n              if (e.key === \"Enter\") setShow(false);\n            }}\n            role=\"button\"\n            tabIndex={0}\n          >\n            Cancel\n          </span>\n        </div>\n      )}\n      <span className=\"add-project__plus\">+</span>\n      <span\n        aria-label=\"Add Project\"\n        data-testid=\"add-project-action\"\n        className=\"add-project__text\"\n        onClick={() => setShow(!show)}\n        onKeyDown={(e) => {\n          if (e.key === \"Enter\") setShow(!show);\n        }}\n        role=\"button\"\n        tabIndex={0}\n      >\n        Add Project\n      </span>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}